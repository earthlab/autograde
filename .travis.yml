language: python
matrix:
  include:
  - os: linux
    dist: xenial
    python: 3.5
    env: TOXENV=py35
  - os: linux
    dist: xenial
    python: 3.6
    env: TOXENV=py36
  - os: linux
    dist: xenial
    python: 3.7
    env: TOXENV=py37,black,docs
  - os: osx
    language: generic
install:
- chmod +x .travis/install.sh
- "./.travis/install.sh"
script:
- chmod +x .travis/test.sh
- "./.travis/test.sh"
after_success:
- codecov
deploy:
  provider: pypi
  user: lwasser
  password:
    secure: IbVkgsIFNYWNaslJLaB0aBlA01uw8kCMIYtMWcd3hk/mzOt0QXXT4/d4GzMDq1kMRpt17RwD3gGQcn1+3bXhi4O7nAXQB6RWP+iL4JHDMazGyBQABLenD73iPEHvdBmSfCrCA4n6GW6+yzLWPdV2V9Szc2Ye1Y/cH2/pyxQWPfG+NGfN6fQ8HYD6B1DlhyVUqMjs4wPNWRpDSoMxFS2QS3LC9iicvhPyYVFc5Wzq0cX/RLr9vSWhxXkcBNq5AJZ9tOv/dBUnLEFNcFukVZSvuKBIWlSXRazcb521XbxiAOw8S5Hot+pcbGEfnkg5WeURLuZWe2Qe5J3NMnZjaFshiBMmTp9DG3OrgbRZAOB4gKffeWck32kxccP4WqRr0m9fLHkj5F+nvQ2acJccDkdAODyoRb6jMOPNmadzEJ9Zndpf+HsBmJKg3XVEmwXGiCZQzZMa92xCG5TVvd+ubGVjn/R7jU72sHnAcXczfzVyq1Jx6nVyiYCB5fQG0KWSFxEQcy8Vv7b9c2wTWPoER9nBUYuELjI/hbO5iGBUsGumGDV2sNuo/u2utiJjFXw+eUQearB5seM9aZpXJLcr/AUCqzkMV6aaTiFSxWz3gDOZOui7fxSoTjuAK9htB1e4y7CSkI0KDbKhKu0FSk4BDCIIyAZMpRuxGvUsr+PGJylKuI8=
  on:
    tags: true
    repo: earthlab/matplotcheck
    python: 3.6
